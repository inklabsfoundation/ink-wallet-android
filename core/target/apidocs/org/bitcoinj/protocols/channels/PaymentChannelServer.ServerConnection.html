<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PaymentChannelServer.ServerConnection (bitcoinj 0.15-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PaymentChannelServer.ServerConnection (bitcoinj 0.15-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentChannelServer.ServerConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerChannelProperties.html" title="interface in org.bitcoinj.protocols.channels"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServerListener.html" title="class in org.bitcoinj.protocols.channels"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html" target="_top">Frames</a></li>
<li><a href="PaymentChannelServer.ServerConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.bitcoinj.protocols.channels</div>
<h2 title="Interface PaymentChannelServer.ServerConnection" class="title">Interface PaymentChannelServer.ServerConnection</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelServer</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="typeNameLabel">PaymentChannelServer.ServerConnection</span></pre>
<div class="block">Implements the connection between this server and the client, providing an interface which allows messages to be
 sent to the client, requests for the connection to the client to be closed, and callbacks which occur when the
 channel is fully open or the client completes a payment.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html#channelOpen-org.bitcoinj.core.Sha256Hash-">channelOpen</a></span>(<a href="../../../../org/bitcoinj/core/Sha256Hash.html" title="class in org.bitcoinj.core">Sha256Hash</a>&nbsp;contractHash)</code>
<div class="block">Triggered when the channel is opened and payments can begin</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html#destroyConnection-org.bitcoinj.protocols.channels.PaymentChannelCloseException.CloseReason-">destroyConnection</a></span>(<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelCloseException.CloseReason.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</code>
<div class="block">Requests that the connection to the client be closed</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://google.github.io/guava/releases/22.0/api/docs/com/google/common/util/concurrent/ListenableFuture.html?is-external=true" title="class or interface in com.google.common.util.concurrent">ListenableFuture</a>&lt;org.spongycastle.crypto.params.KeyParameter&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html#getUserKey--">getUserKey</a></span>()</code>
<div class="block">Called when a channel is being closed and must be signed, possibly with an encrypted key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://google.github.io/guava/releases/22.0/api/docs/com/google/common/util/concurrent/ListenableFuture.html?is-external=true" title="class or interface in com.google.common.util.concurrent">ListenableFuture</a>&lt;com.google.protobuf.ByteString&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html#paymentIncrease-org.bitcoinj.core.Coin-org.bitcoinj.core.Coin-com.google.protobuf.ByteString-">paymentIncrease</a></span>(<a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;by,
               <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;to,
               com.google.protobuf.ByteString&nbsp;info)</code>
<div class="block">Called when the payment in this channel was successfully incremented by the client</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html#sendToClient-org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage-">sendToClient</a></span>(<a href="../../../../org/bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</code>
<div class="block">Requests that the given message be sent to the client.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="sendToClient-org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendToClient</h4>
<pre>void&nbsp;sendToClient(<a href="../../../../org/bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</pre>
<div class="block"><p>Requests that the given message be sent to the client. There are no blocking requirements for this method,
 however the order of messages must be preserved.</p>

 <p>If the send fails, no exception should be thrown, however
 <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.html#connectionClosed--"><code>PaymentChannelServer.connectionClosed()</code></a> should be called immediately.</p>

 <p>Called while holding a lock on the <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
</li>
</ul>
<a name="destroyConnection-org.bitcoinj.protocols.channels.PaymentChannelCloseException.CloseReason-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyConnection</h4>
<pre>void&nbsp;destroyConnection(<a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelCloseException.CloseReason.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</pre>
<div class="block"><p>Requests that the connection to the client be closed</p>

 <p>Called while holding a lock on the <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - The reason for the closure, see the individual values for more details.
               It is usually safe to ignore this value.</dd>
</dl>
</li>
</ul>
<a name="channelOpen-org.bitcoinj.core.Sha256Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channelOpen</h4>
<pre>void&nbsp;channelOpen(<a href="../../../../org/bitcoinj/core/Sha256Hash.html" title="class in org.bitcoinj.core">Sha256Hash</a>&nbsp;contractHash)</pre>
<div class="block"><p>Triggered when the channel is opened and payments can begin</p>

 <p>Called while holding a lock on the <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contractHash</code> - A unique identifier which represents this channel (actually the hash of the multisig contract)</dd>
</dl>
</li>
</ul>
<a name="paymentIncrease-org.bitcoinj.core.Coin-org.bitcoinj.core.Coin-com.google.protobuf.ByteString-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paymentIncrease</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
<a href="https://google.github.io/guava/releases/22.0/api/docs/com/google/common/util/concurrent/ListenableFuture.html?is-external=true" title="class or interface in com.google.common.util.concurrent">ListenableFuture</a>&lt;com.google.protobuf.ByteString&gt;&nbsp;paymentIncrease(<a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;by,
                                                                           <a href="../../../../org/bitcoinj/core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;to,
                                                                           <a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                                                           com.google.protobuf.ByteString&nbsp;info)</pre>
<div class="block"><p>Called when the payment in this channel was successfully incremented by the client</p>

 <p>Called while holding a lock on the <a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>by</code> - The increase in total payment</dd>
<dd><code>to</code> - The new total payment to us (not including fees which may be required to claim the payment)</dd>
<dd><code>info</code> - Information about this payment increase, used to extend this protocol.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future that completes with the ack message that will be included in the PaymentAck message to the client. Use null for no ack message.</dd>
</dl>
</li>
</ul>
<a name="getUserKey--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUserKey</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
<a href="https://google.github.io/guava/releases/22.0/api/docs/com/google/common/util/concurrent/ListenableFuture.html?is-external=true" title="class or interface in com.google.common.util.concurrent">ListenableFuture</a>&lt;org.spongycastle.crypto.params.KeyParameter&gt;&nbsp;getUserKey()</pre>
<div class="block"><p>Called when a channel is being closed and must be signed, possibly with an encrypted key.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future for the (nullable) KeyParameter for the ECKey, or <code>null</code> if no key is required.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentChannelServer.ServerConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServer.ServerChannelProperties.html" title="interface in org.bitcoinj.protocols.channels"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/bitcoinj/protocols/channels/PaymentChannelServerListener.html" title="class in org.bitcoinj.protocols.channels"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/bitcoinj/protocols/channels/PaymentChannelServer.ServerConnection.html" target="_top">Frames</a></li>
<li><a href="PaymentChannelServer.ServerConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
